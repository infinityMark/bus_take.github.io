<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Sans+HK&display=swap" rel="stylesheet">
    <title>Bus_take</title>

    <style>
        body{
            font-family: 'Ma Shan Zheng', cursive;
            font-family: 'Noto Sans HK', sans-serif;
        }
        #input_tool{
            text-align: center;
            width: 100%;
            position: absolute;
            top: 45%;
            left: 50%;
            transform: translate(-50%,-50%);
        }

        #calculate{
            position: absolute;
            top: 240%;
            left: 70%;
            transform: translate(-50%,-50%);

            border: 0px;
            background-color: white;
        }

        #get_time{
            border-radius: 22px;
            height: 36px;
            width: 70%;

            border: 2px solid #000000;
            border-radius: 22px;
            text-align: center;
        }

        #png{
            width: 46px;
        }

        #wait{
            width: 66px;
            position: absolute;
            top: 10%;
            left: 20%;
            transform: translate(-50%,-50%);
        }

        #bus{
            width: 86px;
            position: absolute;
            top: 30%;
            left: -20%;
            transform: translate(-50%,-50%);
        }
        #time_arrive{
            text-align: center;
        }

        #people{
            width: 56px;
            position: absolute;
            top: 30%;
            left: 48%;
            transform: translate(-50%,-50%);
        }
    </style>
</head>
<body>
    <br>
    <h1 id="time_arrive"></h1>
    <img src="https://raw.githubusercontent.com/infinityMark/bus_take.github.io/main/bus-stop (1).png" alt="" id="wait">
    <img src="https://raw.githubusercontent.com/infinityMark/bus_take.github.io/main/person-standing.png" alt="" id="people">
    <img src="https://raw.githubusercontent.com/infinityMark/bus_take.github.io/main/bus.png" alt="" id="bus">
    <div id="input_tool">
        <input type="text" id="get_time">
        <br>
        <button id="calculate"><img src="https://raw.githubusercontent.com/infinityMark/bus_take.github.io/main/send.png" alt="" id="png"></button>
    </div>
    
    <script>
        let get_time = document.getElementById("get_time")
        let calculate = document.getElementById("calculate")
        let png = document.getElementById("png")
        let wait = document.getElementById("wait")
        let bus = document.getElementById("bus")
        let time_arrive = document.getElementById("time_arrive")
        let people = document.getElementById("people")

        wait.style.left="50%"
        wait.style.top="30%"
        wait.style.transition="1s"

        calculate.addEventListener("click",function(){
            // bus.style.left = "-20%"

            // png.style.width="66px"
            // png.style.transition="1s"

            let time = new Date()
            let minuters = time.getMinutes()
            let hours = time.getHours()
            let seconds = time.getSeconds()
            let add_hours

            if(bus.style.left="-20%"){
                bus.style.left = "50%"
                bus.style.transition = "2s"
            }

            // bus.style.left = "50%"
            // bus.style.transition = "2s"

            let further_time = minuters+parseInt(get_time.value)
            if(further_time>=60){
                add_hours = further_time/60
                if(add_hours%60 != 0){
                    // let add_minuters = add_hours%60
                    let final_hours = add_hours.toString()
                    // console.log(final_hours)
                    
                    hours=hours+parseInt(final_hours[0])
                    further_time = further_time-60*parseInt(final_hours[0]) 
                    
                    get_time.value=" "
                    time_arrive.innerText = hours.toString()+":"+further_time.toString()
                }
            }
            if(further_time<10){
                get_time.value=" "
                time_arrive.innerText = hours.toString()+":"+"0"+further_time.toString()
            }
            else{
                get_time.value=" "
                time_arrive.innerText = hours.toString()+":"+further_time.toString()
            }

            setTimeout(function(){
                people.style.display="none"
                bus.style.left="120%"
                bus.style.transition="2s"
            },2500)

        })
    </script>
</body>
</html>
